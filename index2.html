<!DOCTYPE html>
<html lang="ru">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>–†–µ–¥–∞–∫—Ç–æ—Ä –ª–∏–Ω–∏–π –∏ –æ–±—ä–µ–∫—Ç–æ–≤</title>
	<link rel="stylesheet" href="styles/style.css">
	<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É jsPDF -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>
	<div class="program-container">
		<div class="controls">
			<div class="controls-top">
				<h1>–†–µ–¥–∞–∫—Ç–æ—Ä –ª–∏–Ω–∏–π –∏ –æ–±—ä–µ–∫—Ç–æ–≤</h1>
				<div class="control-group">
					<h3>–†–µ–∂–∏–º—ã</h3>
					<div class="toolbar">
						<button class="mode-btn active" data-mode="draw">‚úèÔ∏è –†–∏—Å–æ–≤–∞—Ç—å</button>
						<button class="mode-btn" data-mode="move">‚ÜïÔ∏è –ü–µ—Ä–µ–º–µ—â–∞—Ç—å</button>
						<button class="mode-btn" data-mode="edit">üîß –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
						<button class="mode-btn" data-mode="delete">‚ùå –£–¥–∞–ª–∏—Ç—å</button>
					</div>
				</div>
			</div>

			<div class="control-group group-top">
				<h3>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤</h3>
				<div class="object-panel">
					<div class="object-categories">
						<button class="category-btn active" data-category="all">–í—Å–µ</button>
						<button class="category-btn" data-category="doors_windows">–î–≤–µ—Ä–∏</button>
						<button class="category-btn" data-category="fan">–í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä—ã</button>
						<button class="category-btn" data-category="fire">–û–≥–æ–Ω—å/–°—Ä–µ–¥—Å—Ç–≤–∞ –ø–æ–∂–∞—Ä–æ—Ç—É—à–µ–Ω–∏—è</button>
						<button class="category-btn" data-category="boom">–í–∑—Ä—ã–≤–Ω—ã–µ —Ä–∞–±–æ—Ç—ã</button>
						<button class="category-btn" data-category="pumps">–ù–∞—Å–æ—Å—ã</button>
						<button class="category-btn" data-category="jumper">–ü–µ—Ä–µ–º—ã—á–∫–∏</button>
						<!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ JS -->
						<button class="category-btn" data-category="medical">–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ</button>
						<button class="category-btn" data-category="building">–°—Ç—Ä–æ–µ–Ω–∏—è</button>
						<button class="category-btn" data-category="people">–õ—é–¥–∏</button>
						<button class="category-btn" data-category="phone">–¢–µ–ª–µ—Ñ–æ–Ω—ã</button>
						<button class="category-btn" data-category="equipment">–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</button>
						<button class="category-btn" data-category="entrance">–í—Ö–æ–¥—ã</button>
					</div>
					<div class="objects-grid" id="objectsGrid">
						<!-- –û–±—ä–µ–∫—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
					</div>
				</div>
			</div>

			<div class="controls-left">
				<div class="control-group">
					<h3>–¶–≤–µ—Ç –ª–∏–Ω–∏–∏</h3>
					<div class="toolbar">
						<button class="color-btn active" data-color="black" style="background: black"></button>
						<button class="color-btn" data-color="red" style="background: red"></button>
						<button class="color-btn" data-color="blue" style="background: blue"></button>
						<button class="color-btn" data-color="green" style="background: green"></button>
						<!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ -->
						<button class="color-btn" data-color="#ffffff" style="background: white; border: 1px solid #ccc"></button>
						<button class="color-btn" data-color="#3498db" style="background: #3498db"></button>
					</div>
				</div>

				<div class="control-group">
					<h3>–ü—Ä–∏–≤—è–∑–∫–∞</h3>
					<div>
						<input type="checkbox" id="snapToGrid" checked>
						<label for="snapToGrid">–ö —Å–µ—Ç–∫–µ</label>
					</div>
					<div>
						<input type="checkbox" id="snapToPoints" checked>
						<label for="snapToPoints">–ö —Ç–æ—á–∫–∞–º</label>
					</div>
					<div class="property-group">
						<label for="lineWidth">–®–∏—Ä–∏–Ω–∞ –ª–∏–Ω–∏–∏ (px):</label>
						<input type="number" id="lineWidth" min="1" max="20" value="5" title="–®–∏—Ä–∏–Ω–∞ –ª–∏–Ω–∏–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö">
					</div>
				</div>

				<!-- –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ –æ–±—ä–µ–∫—Ç–∞ -->
				<div class="control-group properties-panel" id="propertiesPanel" style="display: none;">
					<h3>–°–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞</h3>
					<div id="propertiesContent">
						<div class="property-group">
							<label class="property-label">–ú–µ—Ç–∫–∞:</label>
							<input type="text" id="propertyLabel" class="property-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞">
						</div>
						<div class="property-group">
							<label class="property-label">–®–∏—Ä–∏–Ω–∞:</label>
							<input type="number" id="propertyWidth" class="property-input" min="1" max="200">
						</div>
						<div class="property-group">
							<label class="property-label">–í—ã—Å–æ—Ç–∞:</label>
							<input type="number" id="propertyHeight" class="property-input" min="1" max="200">
						</div>
						<div class="property-actions">
							<button id="rotateButton" class="rotate-btn">üîÑ –ü–æ–≤–µ—Ä–Ω—É—Ç—å</button>
							<button id="applyProperties" class="apply-btn">‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
							<button id="cancelProperties" class="cancel-btn">‚ùå –û—Ç–º–µ–Ω–∞</button>
						</div>
					</div>
				</div>

				<!-- –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ –ª–∏–Ω–∏–∏ -->
				<div class="control-group line-properties-panel" id="linePropertiesPanel" style="display: none;">
					<h3>–°–≤–æ–π—Å—Ç–≤–∞ –ª–∏–Ω–∏–∏</h3>
					<div id="linePropertiesContent">
						<div class="property-group">
							<label class="property-label">–í—ã—Å–æ—Ç–∞ (cheight):</label>
							<input type="number" id="lineCheight" class="property-input" placeholder="–í—ã—Å–æ—Ç–∞ –≤ –º" step="0.1">
						</div>
						<div class="property-group">
							<label class="property-label">–®–∏—Ä–∏–Ω–∞ (cwidth):</label>
							<input type="number" id="lineCwidth" class="property-input" placeholder="–®–∏—Ä–∏–Ω–∞ –≤ –º" step="0.1">
						</div>
						<div class="property-group">
							<label class="property-label">–û–±—ä–µ–º (cvolume):</label>
							<input type="number" id="lineCvolume" class="property-input" placeholder="–û–±—ä–µ–º –≤ –º¬≥" step="0.1">
						</div>
						<div class="property-group">
							<label class="property-label">–î–ª–∏–Ω–∞ –ª–∏–Ω–∏–∏:</label>
							<input type="text" id="lineLength" class="property-input" readonly>
						</div>
						<div class="property-actions">
							<button id="applyLineProperties" class="apply-btn">‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
							<button id="cancelLineProperties" class="cancel-btn">‚ùå –û—Ç–º–µ–Ω–∞</button>
						</div>
					</div>
				</div>

				<div class="control-group">
					<h3>–î–µ–π—Å—Ç–≤–∏—è</h3>
					<div class="action-buttons">
						<button id="clearAll">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
						<button id="showAllLines">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã</button>
						<button id="savePDF">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ PDF</button>
						<button id="showLineProperties">–ü–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –ª–∏–Ω–∏–π</button>

						<button id="findIntersections">–ù–∞–π—Ç–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è</button>
						<button id="clearIntersections">–û—á–∏—Å—Ç–∏—Ç—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è</button>
						<button id="toggleIntersections">–ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è</button>

						<button id="exportAllLinesData">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –ª–∏–Ω–∏–π</button>
						<button id="exportIntersections">–≠–∫—Å–ø–æ—Ä—Ç —Ç–æ—á–µ–∫ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è</button>

						<button id="toggleTrackProperties">–ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –ª–∏–Ω–∏–π</button>
						<button id="showLineTrackInfo">–°–≤–æ–π—Å—Ç–≤–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ª–∏–Ω–∏–∏</button>
						<button id="updateAllTrackProperties">–û–±–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –≤—Å–µ—Ö –ª–∏–Ω–∏–π</button>

						<button id="updatePassability">–û–±–Ω–æ–≤–∏—Ç—å passability</button>
						<button id="showPassabilityInfo">Passability –ª–∏–Ω–∏–∏</button>
					</div>
				</div>

				<div class="status">
					<h3>–°—Ç–∞—Ç—É—Å</h3>
					<div class="status-item">
						–†–µ–∂–∏–º: <span id="currentMode">–†–∏—Å–æ–≤–∞–Ω–∏–µ –ª–∏–Ω–∏–π</span>
					</div>
					<div class="status-item">
						–¶–≤–µ—Ç: <span id="currentColor">black</span>
					</div>
					<div class="status-item">
						–û–±—ä–µ–∫—Ç–æ–≤: <span id="objectsCount">0</span>
					</div>
					<div class="status-item">
						–õ–∏–Ω–∏–π: <span id="linesCount">0</span>
					</div>
					<div class="status-item">
						–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π: <span id="intersectionsCount">0</span>
					</div>
				</div>
			</div>
		</div>

		<div class="canvas-container">
			<h2>–û–±–ª–∞—Å—Ç—å —Ä–∏—Å–æ–≤–∞–Ω–∏—è</h2>
			<canvas id="drawingCanvas" width="800" height="800"></canvas>
		</div>
	</div>

	<!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JavaScript —Ñ–∞–π–ª–∞ -->
	<!-- <script src="js/arra-line9-1px-start-end-2-svoistva-in-line-3.js"></script> -->
	<!-- <script src="js/arra-line9-1px-start-end-2-svoistva-in-line-3-function.js"></script> -->
	<script src="js/arra-line9-1px-start-end-2-svoistva-in-line-3-function-2.js"></script>
</body>

</html>