<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–†–µ–¥–∞–∫—Ç–æ—Ä –ª–∏–Ω–∏–π –∏ –æ–±—ä–µ–∫—Ç–æ–≤</title>
  <link rel="stylesheet" href="styles/style.css">
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>
  <div class="program-container">
    <div class="controls">
      <div class="controls-top">
        <h1>–†–µ–¥–∞–∫—Ç–æ—Ä –ª–∏–Ω–∏–π –∏ –æ–±—ä–µ–∫—Ç–æ–≤</h1>
        <div class="control-group">
          <h3>–†–µ–∂–∏–º—ã</h3>
          <div class="toolbar">
            <button class="mode-btn active" data-mode="draw">‚úèÔ∏è –†–∏—Å–æ–≤–∞—Ç—å
            </button>
            <button class="mode-btn" data-mode="move">‚ÜïÔ∏è –ü–µ—Ä–µ–º–µ—â–∞—Ç—å
            </button>
            <button class="mode-btn" data-mode="edit">üîß –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
            </button>
            <button class="mode-btn" data-mode="delete">‚ùå –£–¥–∞–ª–∏—Ç—å
            </button>
          </div>
        </div>

      </div>

      <div class="control-group group-top">
        <h3>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤</h3>
        <div class="object-panel">
          <div class="object-categories">
            <button class="category-btn active" data-category="all">–í—Å–µ
            </button>
            <button class="category-btn" data-category="doors_windows">–î–≤–µ—Ä–∏
            </button>
            <button class="category-btn" data-category="fan">–í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä—ã
            </button>
            <button class="category-btn" data-category="fire">–û–≥–æ–Ω—å/–°—Ä–µ–¥—Å—Ç–≤–∞ –ø–∞–∂–∞—Ä–æ—Ç—É—à–µ–Ω–∏—è
            </button>
            <button class="category-btn" data-category="boom">–í–∑—Ä—ã–≤–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
            </button>
            <button class="category-btn" data-category="pumps">–ù–∞—Å–æ—Å—ã
            </button>
            <button class="category-btn" data-category="jumper">–ü–µ—Ä–µ–º—ã—á–∫–∏
            </button>
          </div>
          <div class="objects-grid" id="objectsGrid">
            <!-- –û–±—ä–µ–∫—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
          </div>
        </div>
      </div>

      <div class="controls-left">
        <div class="control-group">
          <h3>–¶–≤–µ—Ç –ª–∏–Ω–∏–∏</h3>
          <div class="toolbar">
            <button class="color-btn active" data-color="black" style="background: black"></button>
            <button class="color-btn" data-color="red" style="background: red"></button>
            <button class="color-btn" data-color="blue" style="background: blue"></button>
            <button class="color-btn" data-color="green" style="background: green"></button>
          </div>
        </div>

        <div class="control-group">
          <h3>–ü—Ä–∏–≤—è–∑–∫–∞</h3>
          <div>
            <input type="checkbox" id="snapToGrid" checked>
            <label for="snapToGrid">–ö —Å–µ—Ç–∫–µ</label>
          </div>
          <div>
            <input type="checkbox" id="snapToPoints" checked>
            <label for="snapToPoints">–ö —Ç–æ—á–∫–∞–º</label>
          </div>
        </div>


        <!-- –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ –æ–±—ä–µ–∫—Ç–∞ -->
        <div class="control-group properties-panel" id="propertiesPanel" style="display: none;">
          <h3>–°–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞</h3>
          <div id="propertiesContent">
            <div class="property-group">
              <label class="property-label">–ú–µ—Ç–∫–∞:</label>
              <input type="text" id="propertyLabel" class="property-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞">
            </div>
            <div class="property-group">
              <label class="property-label">–®–∏—Ä–∏–Ω–∞:</label>
              <input type="number" id="propertyWidth" class="property-input" min="1" max="200">
            </div>
            <div class="property-group">
              <label class="property-label">–í—ã—Å–æ—Ç–∞:</label>
              <input type="number" id="propertyHeight" class="property-input" min="1" max="200">
            </div>
            <div class="property-actions">
              <button id="rotateButton" class="rotate-btn">üîÑ –ü–æ–≤–µ—Ä–Ω—É—Ç—å
              </button>
              <button id="applyProperties" class="apply-btn">‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å
              </button>
              <button id="cancelProperties" class="cancel-btn">‚ùå –û—Ç–º–µ–Ω–∞
              </button>
            </div>
          </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ –ª–∏–Ω–∏–∏ -->
        <div class="control-group line-properties-panel" id="linePropertiesPanel" style="display: none;">
          <h3>–°–≤–æ–π—Å—Ç–≤–∞ –ª–∏–Ω–∏–∏</h3>
          <div id="linePropertiesContent">
            <div class="property-group">
              <label class="property-label">–í—ã—Å–æ—Ç–∞ (cheight):</label>
              <input type="number" id="lineCheight" class="property-input" placeholder="–í—ã—Å–æ—Ç–∞ –≤ –º">
            </div>
            <div class="property-group">
              <label class="property-label">–®–∏—Ä–∏–Ω–∞ (cwidth):</label>
              <input type="number" id="lineCwidth" class="property-input" placeholder="–®–∏—Ä–∏–Ω–∞ –≤ –º">
            </div>
            <div class="property-group">
              <label class="property-label">–û–±—ä–µ–º (cvolume):</label>
              <input type="number" id="lineCvolume" class="property-input" placeholder="–û–±—ä–µ–º –≤ –º¬≥">
            </div>
            <div class="property-group">
              <label class="property-label">–î–ª–∏–Ω–∞ –ª–∏–Ω–∏–∏:</label>
              <input type="text" id="lineLength" class="property-input" readonly>
            </div>
            <div class="property-actions">
              <button id="applyLineProperties" class="apply-btn">‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å
              </button>
              <button id="cancelLineProperties" class="cancel-btn">‚ùå –û—Ç–º–µ–Ω–∞
              </button>
            </div>
          </div>
        </div>

        <div class="control-group">
          <h3>–î–µ–π—Å—Ç–≤–∏—è</h3>
          <div class="action-buttons">
            <button id="clearAll">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
            <button id="showAllLines">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã</button>
            <button id="savePDF">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ PDF</button>
            <button id="showLineProperties">–ü–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –ª–∏–Ω–∏–π</button>

            <button id="findIntersections">–ù–∞–π—Ç–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è</button>

            <button class="action-btn" id="clearIntersections">–û—á–∏—Å—Ç–∏—Ç—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è
            </button>
            <button class="action-btn" id="toggleIntersections">–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è
            </button>

            <button id="exportIntersections">–≠–∫—Å–ø–æ—Ä—Ç —Ç–æ—á–µ–∫ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è</button>


            <input type="number" id="lineWidth" min="1" max="20" value="5" title="–®–∏—Ä–∏–Ω–∞ –ª–∏–Ω–∏–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö">
            <label for="lineWidth">–®–∏—Ä–∏–Ω–∞ –ª–∏–Ω–∏–∏ (px)</label>
          </div>
        </div>

        <div class="status">
          <h3>–°—Ç–∞—Ç—É—Å</h3>
          <div class="status-item">
            –†–µ–∂–∏–º: <span id="currentMode">–†–∏—Å–æ–≤–∞–Ω–∏–µ</span>
          </div>
          <div class="status-item">
            –¶–≤–µ—Ç: <span id="currentColor">black</span>
          </div>
        </div>

        <!-- –ì–¥–µ-—Ç–æ –≤ –≤–∞—à–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –¥–æ–±–∞–≤—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É -->
        <div class="stats">
          –û–±—ä–µ–∫—Ç–æ–≤: <span id="objectsCount">0</span> |
          –õ–∏–Ω–∏–π: <span id="linesCount">0</span> |
          –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π: <span id="intersectionsCount">0</span>
        </div>
      </div>


    </div>

    <div class="canvas-container">
      <h2>–û–±–ª–∞—Å—Ç—å —Ä–∏—Å–æ–≤–∞–Ω–∏—è</h2>
      <canvas id="drawingCanvas" width="800" height="800"></canvas>
    </div>
  </div>

  <!--  <script src="js/script.js"></script>-->
  <!--<script src="js/array-line.js"></script>-->
  <!--<script src="js/array-line2.js"></script>-->
  <!--<script src="js/arra-line3.js"></script>-->
  <!--<script src="js/arra-line4.js"></script>-->
  <!--<script src="js/arra-line5.js"></script>-->
  <!--<script src="js/arra-line6.js"></script>-->
  <!--<script src="js/arra-line7.js"></script>-->
  <!--<script src="js/arra-line8.js"></script>-->
  <!-- <script src="js/arra-line9-1px.js"></script> -->
  <!-- <script src="js/arra-line9-1px-start-end.js"></script> -->
  <script src="js/arra-line9-1px-start-end-2.js"></script>
</body>

</html>